{"ast":null,"code":"import React,{useEffect,useState}from'react';import{lazyLoad}from'../utils/lazyload';import Navbar from'../components/Navbar';import Lenis from'@studio-freight/lenis';import{useLocation}from'react-router-dom';import{motion}from'framer-motion';// Lazy load components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoSection=lazyLoad(()=>import('../components/VideoSection'),{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-screen flex items-center justify-center bg-black text-white\",children:\"Loading...\"})});const BoxesGrid=lazyLoad(()=>import('../components/BoxesGrid'),{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"w-full min-h-screen flex items-center justify-center bg-black text-white\",children:\"Loading...\"})});const Footer=lazyLoad(()=>import('../components/Footer'),{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-64 flex items-center justify-center bg-black text-white\",children:\"Loading...\"})});const Home=()=>{var _location$state;const[currentSection,setCurrentSection]=useState('hero');const[scrollLocked,setScrollLocked]=useState(false);const location=useLocation();// Determine the animation direction based on navigation state\nconst slideDirection=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.slideDirection)==='left'?'left':'right';const initialX=slideDirection==='left'?'-100%':'100%';useEffect(()=>{const sectionOrder=['hero','grid-section','contact'];const scrollToSection=sectionId=>{if(scrollLocked)return;const section=document.getElementById(sectionId);if(!section)return;setScrollLocked(true);if(window.lenis){window.lenis.scrollTo(section,{duration:1.2,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),onComplete:()=>{setCurrentSection(sectionId);setTimeout(()=>setScrollLocked(false),500);}});}else{section.scrollIntoView({behavior:'smooth'});setCurrentSection(sectionId);setTimeout(()=>setScrollLocked(false),1000);}};const handleWheel=e=>{if(scrollLocked){e.preventDefault();return;}const direction=e.deltaY>0?1:-1;const currentIndex=sectionOrder.indexOf(currentSection);const nextIndex=currentIndex+direction;if(nextIndex>=0&&nextIndex<sectionOrder.length){e.preventDefault();scrollToSection(sectionOrder[nextIndex]);}};let touchStartY=0;const handleTouchStart=e=>{touchStartY=e.touches[0].clientY;};const handleTouchMove=e=>{if(scrollLocked){e.preventDefault();return;}const touchY=e.touches[0].clientY;const diff=touchStartY-touchY;const threshold=50;const direction=diff>threshold?1:diff<-threshold?-1:0;if(direction!==0){const currentIndex=sectionOrder.indexOf(currentSection);const nextIndex=currentIndex+direction;if(nextIndex>=0&&nextIndex<sectionOrder.length){e.preventDefault();scrollToSection(sectionOrder[nextIndex]);}}};const observerOptions={root:null,threshold:0.6// Ensures section is at least 60% visible\n};const sectionObserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting&&!scrollLocked){setCurrentSection(entry.target.id);}});},observerOptions);const hero=document.getElementById('hero');const grid=document.getElementById('grid-section');const contact=document.getElementById('contact');if(hero)sectionObserver.observe(hero);if(grid)sectionObserver.observe(grid);if(contact)sectionObserver.observe(contact);window.addEventListener('wheel',handleWheel,{passive:false});window.addEventListener('touchstart',handleTouchStart);window.addEventListener('touchmove',handleTouchMove,{passive:false});return()=>{window.removeEventListener('wheel',handleWheel);window.removeEventListener('touchstart',handleTouchStart);window.removeEventListener('touchmove',handleTouchMove);sectionObserver.disconnect();};},[currentSection,scrollLocked]);return/*#__PURE__*/_jsxs(motion.div,{initial:{x:initialX},animate:{x:0},exit:{x:'100%'},transition:{type:'tween',duration:0.5},className:\"min-h-screen bg-black text-white overflow-x-hidden\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"section\",{id:\"hero\",className:\"h-screen\",children:/*#__PURE__*/_jsx(VideoSection,{})}),/*#__PURE__*/_jsx(\"section\",{id:\"grid-section\",className:\"min-h-screen\",children:/*#__PURE__*/_jsx(BoxesGrid,{})}),/*#__PURE__*/_jsx(\"section\",{id:\"contact\",children:/*#__PURE__*/_jsx(Footer,{})})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","lazyLoad","Navbar","Lenis","useLocation","motion","jsx","_jsx","jsxs","_jsxs","VideoSection","fallback","className","children","BoxesGrid","Footer","Home","_location$state","currentSection","setCurrentSection","scrollLocked","setScrollLocked","location","slideDirection","state","initialX","sectionOrder","scrollToSection","sectionId","section","document","getElementById","window","lenis","scrollTo","duration","easing","t","Math","min","pow","onComplete","setTimeout","scrollIntoView","behavior","handleWheel","e","preventDefault","direction","deltaY","currentIndex","indexOf","nextIndex","length","touchStartY","handleTouchStart","touches","clientY","handleTouchMove","touchY","diff","threshold","observerOptions","root","sectionObserver","IntersectionObserver","entries","forEach","entry","isIntersecting","target","id","hero","grid","contact","observe","addEventListener","passive","removeEventListener","disconnect","div","initial","x","animate","exit","transition","type"],"sources":["G:/aifinity/src/pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { lazyLoad } from '../utils/lazyload';\r\nimport Navbar from '../components/Navbar';\r\nimport Lenis from '@studio-freight/lenis';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\n\r\n// Lazy load components\r\nconst VideoSection = lazyLoad(() => import('../components/VideoSection'), {\r\n  fallback: <div className=\"w-full h-screen flex items-center justify-center bg-black text-white\">Loading...</div>\r\n});\r\n\r\nconst BoxesGrid = lazyLoad(() => import('../components/BoxesGrid'), {\r\n  fallback: <div className=\"w-full min-h-screen flex items-center justify-center bg-black text-white\">Loading...</div>\r\n});\r\n\r\nconst Footer = lazyLoad(() => import('../components/Footer'), {\r\n  fallback: <div className=\"w-full h-64 flex items-center justify-center bg-black text-white\">Loading...</div>\r\n});\r\n\r\nconst Home = () => {\r\n  const [currentSection, setCurrentSection] = useState('hero');\r\n  const [scrollLocked, setScrollLocked] = useState(false);\r\n  const location = useLocation();\r\n  \r\n  // Determine the animation direction based on navigation state\r\n  const slideDirection = location.state?.slideDirection === 'left' ? 'left' : 'right';\r\n  const initialX = slideDirection === 'left' ? '-100%' : '100%';\r\n\r\n  useEffect(() => {\r\n    const sectionOrder = ['hero', 'grid-section', 'contact'];\r\n\r\n    const scrollToSection = (sectionId) => {\r\n      if (scrollLocked) return;\r\n      const section = document.getElementById(sectionId);\r\n      if (!section) return;\r\n\r\n      setScrollLocked(true);\r\n\r\n      if (window.lenis) {\r\n        window.lenis.scrollTo(section, {\r\n          duration: 1.2,\r\n          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\r\n          onComplete: () => {\r\n            setCurrentSection(sectionId);\r\n            setTimeout(() => setScrollLocked(false), 500);\r\n          }\r\n        });\r\n      } else {\r\n        section.scrollIntoView({ behavior: 'smooth' });\r\n        setCurrentSection(sectionId);\r\n        setTimeout(() => setScrollLocked(false), 1000);\r\n      }\r\n    };\r\n\r\n    const handleWheel = (e) => {\r\n      if (scrollLocked) {\r\n        e.preventDefault();\r\n        return;\r\n      }\r\n\r\n      const direction = e.deltaY > 0 ? 1 : -1;\r\n      const currentIndex = sectionOrder.indexOf(currentSection);\r\n      const nextIndex = currentIndex + direction;\r\n\r\n      if (nextIndex >= 0 && nextIndex < sectionOrder.length) {\r\n        e.preventDefault();\r\n        scrollToSection(sectionOrder[nextIndex]);\r\n      }\r\n    };\r\n\r\n    let touchStartY = 0;\r\n    const handleTouchStart = (e) => {\r\n      touchStartY = e.touches[0].clientY;\r\n    };\r\n\r\n    const handleTouchMove = (e) => {\r\n      if (scrollLocked) {\r\n        e.preventDefault();\r\n        return;\r\n      }\r\n\r\n      const touchY = e.touches[0].clientY;\r\n      const diff = touchStartY - touchY;\r\n      const threshold = 50;\r\n\r\n      const direction = diff > threshold ? 1 : diff < -threshold ? -1 : 0;\r\n      if (direction !== 0) {\r\n        const currentIndex = sectionOrder.indexOf(currentSection);\r\n        const nextIndex = currentIndex + direction;\r\n\r\n        if (nextIndex >= 0 && nextIndex < sectionOrder.length) {\r\n          e.preventDefault();\r\n          scrollToSection(sectionOrder[nextIndex]);\r\n        }\r\n      }\r\n    };\r\n\r\n    const observerOptions = {\r\n      root: null,\r\n      threshold: 0.6 // Ensures section is at least 60% visible\r\n    };\r\n\r\n    const sectionObserver = new IntersectionObserver((entries) => {\r\n      entries.forEach(entry => {\r\n        if (entry.isIntersecting && !scrollLocked) {\r\n          setCurrentSection(entry.target.id);\r\n        }\r\n      });\r\n    }, observerOptions);\r\n\r\n    const hero = document.getElementById('hero');\r\n    const grid = document.getElementById('grid-section');\r\n    const contact = document.getElementById('contact');\r\n\r\n    if (hero) sectionObserver.observe(hero);\r\n    if (grid) sectionObserver.observe(grid);\r\n    if (contact) sectionObserver.observe(contact);\r\n\r\n    window.addEventListener('wheel', handleWheel, { passive: false });\r\n    window.addEventListener('touchstart', handleTouchStart);\r\n    window.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n\r\n    return () => {\r\n      window.removeEventListener('wheel', handleWheel);\r\n      window.removeEventListener('touchstart', handleTouchStart);\r\n      window.removeEventListener('touchmove', handleTouchMove);\r\n      sectionObserver.disconnect();\r\n    };\r\n  }, [currentSection, scrollLocked]);\r\n\r\n  return (\r\n    <motion.div \r\n      initial={{ x: initialX }}\r\n      animate={{ x: 0 }}\r\n      exit={{ x: '100%' }}\r\n      transition={{ type: 'tween', duration: 0.5 }}\r\n      className=\"min-h-screen bg-black text-white overflow-x-hidden\"\r\n    >\r\n      <Navbar />\r\n      <main>\r\n        <section id=\"hero\" className=\"h-screen\">\r\n          <VideoSection />\r\n        </section>\r\n        <section id=\"grid-section\" className=\"min-h-screen\">\r\n          <BoxesGrid />\r\n        </section>\r\n        <section id=\"contact\">\r\n          <Footer />\r\n        </section>\r\n      </main>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}