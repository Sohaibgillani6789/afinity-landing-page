"use strict";(self.webpackChunkafinity_landing_page=self.webpackChunkafinity_landing_page||[]).push([[921],{3921:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var o=i(5043),n=i(1043),l=i.n(n),a=i(6938),s=i(7067),r=i(3216),d=i(579);const u=[{id:1,title:"Afinity uses data and artificial intelligence to transform the quality of    interpersonal interactions",url:"https://res.cloudinary.com/ddzllbqlv/video/upload/v1748342620/zjtzamruh1ztnsjntam7.mp4",buttonId:"what-we-do"},{id:2,title:"How We Do It",url:"https://res.cloudinary.com/ddzllbqlv/video/upload/v1748342623/kfeixt00owusza7oaoxw.mp4",buttonId:"how-we-do-it"},{id:3,title:"What We Deliver",url:"https://res.cloudinary.com/ddzllbqlv/video/upload/v1748342633/zdwyblkjivgsog2q2fad.mp4",buttonId:"what-we-deliver"}],c=()=>{const[e,t]=(0,o.useState)(0),[i,n]=(0,o.useState)(!0),[c,x]=(0,o.useState)(1),[m,h]=(0,o.useState)(0),[w,b]=(0,o.useState)(!1),[p,f]=(0,o.useState)({x:0,y:0}),[v,g]=(0,o.useState)(!1),[y,j]=(0,o.useState)(!1),k=(0,r.Zp)(),I=(0,o.useRef)(null),z=(0,o.useRef)(null),N=(0,o.useRef)(null),E=(0,o.useRef)(null),C=(0,o.useMemo)((()=>({hidden:{opacity:0},visible:{opacity:1,transition:{duration:1}},exit:{opacity:0,transition:{duration:.5}}})),[]),M=(0,o.useMemo)((()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:20}},exit:{opacity:0,y:-20,transition:{duration:.2}}})),[]),S=((0,o.useMemo)((()=>({default:{x:p.x-16,y:p.y-16,scale:1},hover:{x:p.x-16,y:p.y-16,scale:1.5,backgroundColor:"rgba(255, 255, 255, 0.4)",mixBlendMode:"difference"}})),[p.x,p.y]),(0,o.useCallback)((()=>{E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{b(window.innerWidth<768)}),100)}),[]));(0,o.useEffect)((()=>(b(window.innerWidth<768),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),E.current&&clearTimeout(E.current)})),[S]);const L=(0,o.useCallback)((e=>{f({x:e.clientX,y:e.clientY})}),[]);(0,o.useEffect)((()=>{if(w)return;let e;const t=t=>{e||(e=requestAnimationFrame((()=>{L(t),e=null})))};return window.addEventListener("mousemove",t,{passive:!0}),()=>{window.removeEventListener("mousemove",t),e&&cancelAnimationFrame(e)}}),[w,L]);const q=(0,o.useCallback)((()=>{z.current&&clearInterval(z.current),z.current=setInterval((()=>{t((e=>{const t=(e+1)%u.length;return x((t+1)%u.length),t}))}),11e3)}),[]);(0,o.useEffect)((()=>(q(),()=>{z.current&&clearInterval(z.current)})),[q]),(0,o.useEffect)((()=>(N.current&&clearTimeout(N.current),n(!1),N.current=setTimeout((()=>{c<u.length&&n(!0)}),3e3),()=>{N.current&&clearTimeout(N.current)})),[e,c]);const T=(0,o.useCallback)((function(i){let o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i===e)return"how-we-do-it"===u[i].buttonId?void k("/how-we-do-it"):void 0;n(!1),t(i),x((i+1)%u.length),o&&(h((e=>e+1)),q())}),[e,q,k]),W=(0,o.useCallback)((e=>{w||g(e)}),[w]),F=(0,o.useMemo)((()=>u[e]),[e]);(0,o.useMemo)((()=>u[c]),[c]);return(0,d.jsxs)("div",{className:"relative w-full h-screen overflow-hidden",children:[(0,d.jsx)(a.N,{mode:"wait",children:(0,d.jsxs)(s.P.div,{className:"absolute inset-0 w-full h-full pointer-events-none",variants:C,initial:"hidden",animate:"visible",exit:"exit",children:[(0,d.jsx)(l(),{ref:I,url:F.url,playing:!0,loop:!0,muted:!0,width:"100%",height:"100%",playsinline:!0,onError:()=>{console.error("Video failed to load"),j(!0)},style:{objectFit:"cover",position:"absolute",top:0,left:0,pointerEvents:"none"},config:{file:{attributes:{preload:"auto",style:{width:"100%",height:"100%",objectFit:"cover"}}}}}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-black/70"})]},"video-".concat(e))}),!w&&(0,d.jsx)("div",{className:"absolute top-8 right-[calc(2rem--190px)] z-[5000] flex flex-row gap-8 pointer-events-auto",children:u.map(((t,i)=>(0,d.jsx)("div",{className:"flex flex-col group",children:(0,d.jsx)("button",{id:t.buttonId,className:"text-white uppercase text-lm font-medium tracking-wider ".concat(e===i?"opacity-100":"opacity-40 hover:opacity-100"," transition-opacity duration-300 text-left"),onClick:()=>T(i,!0),onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1),children:"how-we-do-it"===t.buttonId?"How We Do It":t.buttonId.replace(/-/g," ")})},t.id)))}),w&&(0,d.jsx)("div",{className:"absolute bottom-20 right-8 z-20 flex flex-row gap-4",children:u.map(((t,i)=>(0,d.jsx)("button",{id:t.buttonId,className:"w-3 h-3 rounded-full ".concat(e===i?"bg-green-600":"bg-white/50"," transition-all duration-300"),onClick:()=>T(i,!0),"aria-label":"Video ".concat(i+1)},t.id)))}),(0,d.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-center text-left z-10 px-4 sm:px-6 md:px-8 lg:ml-40 lg:px-4",children:[(0,d.jsx)(s.P.h1,{className:"text-2xl xs:text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-3 sm:mb-4 md:mb-6 max-w-full sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-5xl leading-tight sm:leading-tight md:leading-tight ".concat("how-we-do-it"===F.buttonId?" hover:text-green-400 transition-colors duration-300":""),initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},onClick:()=>"how-we-do-it"===F.buttonId&&k("/how-we-do-it"),onMouseEnter:()=>"how-we-do-it"===F.buttonId&&g(!0),onMouseLeave:()=>"how-we-do-it"===F.buttonId&&g(!1),style:"how-we-do-it"===F.buttonId?{cursor:"pointer"}:{},children:F.title},"title-".concat(e)),(0,d.jsx)(s.P.p,{className:"text-sm xs:text-base sm:text-lg md:text-xl lg:text-2xl text-white/80 max-w-full sm:max-w-md md:max-w-lg lg:max-w-xl leading-relaxed sm:leading-relaxed",animate:{opacity:1},transition:{delay:.1,duration:.1},children:"Find out how we help businesses pair better."},"desc-".concat(e))]}),(0,d.jsx)(a.N,{children:i&&c!==e&&(0,d.jsxs)(s.P.button,{variants:M,initial:"hidden",animate:"visible",exit:"exit",className:"absolute ".concat(w?"bottom-8 left-4 right-4 w-auto":"bottom-10 left-1/2 transform -translate-x-1/2"," bg-green-600/30 backdrop-blur-sm text-white px-4 py-2 sm:px-6 sm:py-2 rounded-full border border-white/30 hover:bg-white/30 transition-all z-30 cursor-pointer text-sm sm:text-base"),onClick:()=>T(c,!0),onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1),style:{zIndex:40},children:["Next: ",u[c].title.split(" ").slice(0,3).join(" ")," \u2192"]})})]})}}}]);
//# sourceMappingURL=921.bf4347a8.chunk.js.map